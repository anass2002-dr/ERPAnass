{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Ans/Desktop/01 Programming/17 Angular/ERP_Anass/ERP_Anass_app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as __NgCli_bootstrap_1 from \"@angular/platform-browser\";\nimport { enableProdMode } from '@angular/core';\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\nimport Swal from 'sweetalert2';\n\nif (environment.production) {\n  enableProdMode();\n}\n\n__NgCli_bootstrap_1.platformBrowser().bootstrapModule(AppModule).catch(err => console.error(err));\n\nexport var ittone;\n\n(function (ittone) {\n  const sessionName = 'erplogin';\n  const urlServer = 'http://localhost:5095/erp/';\n  const Toast = Swal.mixin({\n    toast: true,\n    position: \"bottom-end\",\n    showConfirmButton: false,\n    timer: 3000,\n    timerProgressBar: true,\n    didOpen: toast => {\n      toast.onmouseenter = Swal.stopTimer;\n      toast.onmouseleave = Swal.resumeTimer;\n    }\n  });\n  ittone.idDossier = \"\"; // app();\n\n  forms();\n\n  function app() {// const localStorageItem = sessionStorage.getItem(sessionName);\n    // if (!localStorageItem) {\n    //   // if (window.location.href.indexOf('/pages-login') === -1) {\n    //   //   // window.location.href = '/pages-login';\n    //   // }\n    // }\n  }\n\n  ittone.app = app;\n\n  function getData(_x, _x2) {\n    return _getData.apply(this, arguments);\n  }\n\n  function _getData() {\n    _getData = _asyncToGenerator(function* (apiUrl, requestData) {\n      apiUrl += \"?\";\n\n      for (const key in requestData) {\n        if (requestData.hasOwnProperty(key)) {\n          const value = requestData[key];\n          apiUrl += `${key}=${value}&`;\n        }\n      }\n\n      try {\n        const response = yield fetch(urlServer + apiUrl, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n\n        if (!response.ok) {\n          throw new Error(`Failed to fetch data. Status: ${response.status}`);\n        }\n\n        const data = yield response.json();\n        if (data.isSucces) return data.dataResult;\n      } catch (error) {\n        console.error('Error fetching data:', error.message);\n      }\n    });\n    return _getData.apply(this, arguments);\n  }\n\n  ittone.getData = getData;\n\n  function postData(_x3, _x4) {\n    return _postData.apply(this, arguments);\n  }\n\n  function _postData() {\n    _postData = _asyncToGenerator(function* (apiUrl, requestData) {\n      try {\n        const response = yield fetch(urlServer + apiUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(requestData)\n        });\n\n        if (!response.ok) {\n          throw new Error(`Failed to fetch data. Status: ${response.status}`);\n        }\n\n        const data = yield response.json();\n\n        if (data.isSucces) {\n          ittone.success(data.message);\n          return data.dataResult;\n        } else {\n          ittone.warning(data.message);\n          return null;\n        }\n      } catch (error) {\n        console.error('Error fetching data:', error.message);\n        return null;\n      }\n    });\n    return _postData.apply(this, arguments);\n  }\n\n  ittone.postData = postData;\n\n  function convertFormToJson(form) {\n    const formData = { ...form.value\n    };\n    return formData;\n  }\n\n  ittone.convertFormToJson = convertFormToJson;\n\n  function forms() {\n    const forms = document.querySelectorAll('form');\n    Array.from(forms).forEach(form => {\n      form.addEventListener('submit', event => {\n        event.preventDefault();\n        event.stopPropagation();\n        ittone.warning('Warning');\n      }, false);\n    });\n  }\n\n  ittone.forms = forms;\n  ;\n\n  function saveSession(dt) {\n    sessionStorage.setItem(sessionName, JSON.stringify(dt));\n  }\n\n  ittone.saveSession = saveSession;\n\n  function getSession() {\n    const item = sessionStorage.getItem(sessionName);\n\n    if (item) {\n      try {\n        return JSON.parse(item);\n      } catch (error) {}\n    }\n\n    return undefined;\n  }\n\n  ittone.getSession = getSession;\n\n  function removeSession() {\n    sessionStorage.removeItem(sessionName);\n  }\n\n  ittone.removeSession = removeSession;\n\n  function success(msg) {\n    Toast.fire({\n      icon: \"success\",\n      title: msg\n    });\n  }\n\n  ittone.success = success;\n\n  function error(msg) {\n    Toast.fire({\n      icon: 'error',\n      title: msg\n    });\n  }\n\n  ittone.error = error;\n\n  function warning(msg) {\n    Toast.fire({\n      icon: 'warning',\n      title: msg\n    });\n  }\n\n  ittone.warning = warning;\n\n  function alert(title, msg, ok, cancel) {\n    const modalElement = document.createElement('div');\n    modalElement.classList.add('modal', 'd-none');\n    modalElement.setAttribute('role', 'dialog');\n    const modalDialogElement = document.createElement('div');\n    modalDialogElement.classList.add('modal-dialog', 'modal-md', 'modal-dialog-centered', 'alert');\n    const modalContentElement = document.createElement('div');\n    modalContentElement.classList.add('modal-content');\n    const modalHeaderElement = document.createElement('div');\n    modalHeaderElement.classList.add('modal-header');\n    const modalTitleElement = document.createElement('h5');\n    modalTitleElement.classList.add('modal-title');\n    modalTitleElement.textContent = title;\n    const closeButtonElement = document.createElement('button');\n    closeButtonElement.classList.add('btn-close');\n    closeButtonElement.innerHTML = '<i class=\"fa-solid fa-x\"></i>';\n    modalHeaderElement.appendChild(modalTitleElement);\n    modalHeaderElement.appendChild(closeButtonElement);\n    const modalBodyElement = document.createElement('div');\n    modalBodyElement.classList.add('modal-body');\n    const rowElement = document.createElement('div');\n    rowElement.classList.add('row');\n    const columnElement = document.createElement('div');\n    columnElement.classList.add('col-12');\n    columnElement.textContent = msg;\n    rowElement.appendChild(columnElement);\n    modalBodyElement.appendChild(rowElement);\n    const modalFooterElement = document.createElement('div');\n    modalFooterElement.classList.add('modal-footer');\n    const cancelButtonElement = document.createElement('button');\n    cancelButtonElement.classList.add('btn', 'btn-light', 'btn-annuler', 'btn-rounded');\n    cancelButtonElement.textContent = 'Cancel';\n    const saveButtonElement = document.createElement('button');\n    saveButtonElement.classList.add('btn', 'btn-success', 'btn-sauvegarder', 'btn-rounded', 'mx-2');\n    saveButtonElement.textContent = 'OK';\n    modalFooterElement.appendChild(cancelButtonElement);\n    modalFooterElement.appendChild(saveButtonElement);\n    modalContentElement.appendChild(modalHeaderElement);\n    modalContentElement.appendChild(modalBodyElement);\n    modalContentElement.appendChild(modalFooterElement);\n    modalDialogElement.appendChild(modalContentElement);\n    modalElement.appendChild(modalDialogElement);\n    saveButtonElement.addEventListener('click', () => {\n      ok();\n      ittone.hide(modalElement);\n      modalElement.remove();\n    });\n    cancelButtonElement.addEventListener('click', () => {\n      cancel();\n      ittone.hide(modalElement);\n      modalElement.remove();\n    });\n    document.body.appendChild(modalElement);\n    ittone.show(modalElement);\n  }\n\n  ittone.alert = alert;\n\n  function hide(element) {\n    element.classList.add('scale-out-center');\n    element.classList.add('d-none');\n    setTimeout(() => {\n      element.classList.remove('scale-out-center');\n    }, 1000);\n  }\n\n  ittone.hide = hide;\n\n  function show(element) {\n    element.classList.add('scale-in-center');\n    setTimeout(() => {\n      element.classList.remove('d-none');\n    }, 100);\n  }\n\n  ittone.show = show;\n})(ittone || (ittone = {}));","map":{"version":3,"mappings":"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","names":["enableProdMode","AppModule","environment","Swal","production","__NgCli_bootstrap_1","bootstrapModule","catch","err","console","error","ittone","sessionName","urlServer","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","onmouseenter","stopTimer","onmouseleave","resumeTimer","forms","app","getData","apiUrl","requestData","key","hasOwnProperty","value","response","fetch","method","headers","ok","Error","status","data","json","isSucces","dataResult","message","postData","body","JSON","stringify","success","warning","convertFormToJson","form","formData","document","querySelectorAll","Array","from","forEach","addEventListener","event","preventDefault","stopPropagation","saveSession","dt","sessionStorage","setItem","getSession","item","getItem","parse","undefined","removeSession","removeItem","msg","fire","icon","title","alert","cancel","modalElement","createElement","classList","add","setAttribute","modalDialogElement","modalContentElement","modalHeaderElement","modalTitleElement","textContent","closeButtonElement","innerHTML","appendChild","modalBodyElement","rowElement","columnElement","modalFooterElement","cancelButtonElement","saveButtonElement","hide","remove","show","element","setTimeout"],"sourceRoot":"","sources":["C:\\Users\\Ans\\Desktop\\01 Programming\\17 Angular\\ERP_Anass\\ERP_Anass_app\\src\\main.ts"],"sourcesContent":["import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\nimport { FormGroup } from '@angular/forms';\nimport Swal from 'sweetalert2';\n\n\nif (environment.production) {\n  enableProdMode();\n}\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n\nexport namespace ittone {\n  const sessionName = 'erplogin';\n  const urlServer = 'http://localhost:5095/erp/'\n  const Toast = Swal.mixin({\n    toast: true,\n    position: \"bottom-end\",\n    showConfirmButton: false,\n    timer: 3000,\n    timerProgressBar: true,\n    didOpen: (toast: any) => {\n      toast.onmouseenter = Swal.stopTimer;\n      toast.onmouseleave = Swal.resumeTimer;\n    }\n  });\n  export var idDossier = \"\";\n  // app();\n  forms();\n  export function app(): void {\n    // const localStorageItem = sessionStorage.getItem(sessionName);\n    // if (!localStorageItem) {\n    //   // if (window.location.href.indexOf('/pages-login') === -1) {\n    //   //   // window.location.href = '/pages-login';\n    //   // }\n    // }\n  }\n  export async function getData(apiUrl: string, requestData: Record<string, any>) {\n    apiUrl += \"?\"\n    for (const key in requestData) {\n      if (requestData.hasOwnProperty(key)) {\n        const value = requestData[key];\n        apiUrl += `${key}=${value}&`\n      }\n    }\n    try {\n      const response = await fetch(urlServer + apiUrl, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to fetch data. Status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data.isSucces)\n        return data.dataResult;\n    } catch (error: any) {\n      console.error('Error fetching data:', error.message);\n    }\n  }\n  export async function postData(apiUrl: string, requestData: Record<string, any>) {\n    try {\n      const response = await fetch(urlServer + apiUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestData),\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to fetch data. Status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data.isSucces) {\n        ittone.success(data.message)\n        return data.dataResult;\n      }\n      else {\n        ittone.warning(data.message)\n        return null\n      }\n    } catch (error: any) {\n      console.error('Error fetching data:', error.message);\n      return null\n    }\n  }\n  export function convertFormToJson(form: FormGroup): void {\n    const formData = { ...form.value };\n    return formData\n  }\n  export function forms(): void {\n    const forms = document.querySelectorAll('form');\n    Array.from(forms).forEach((form: HTMLFormElement) => {\n      form.addEventListener('submit', (event: Event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        ittone.warning('Warning')\n      }, false);\n    });\n  };\n  export function saveSession(dt: any): void {\n    sessionStorage.setItem(sessionName, JSON.stringify(dt));\n  }\n  export function getSession(): Record<string, any> | undefined {\n    const item = sessionStorage.getItem(sessionName);\n    if (item) {\n      try {\n        return JSON.parse(item) as Record<string, any>;\n      } catch (error) {\n\n      }\n    }\n    return undefined;\n  }\n  export function removeSession() {\n    sessionStorage.removeItem(sessionName);\n  }\n  export function success(msg: string) {\n    Toast.fire({\n      icon: \"success\",\n      title: msg\n    });\n  }\n  export function error(msg: string) {\n    Toast.fire({\n      icon: 'error',\n      title: (msg)\n    })\n  }\n  export function warning(msg: string) {\n    Toast.fire({\n      icon: 'warning',\n      title: (msg)\n    })\n  }\n  export function alert(title: string, msg: string, ok: () => void, cancel: () => void) {\n    const modalElement = document.createElement('div');\n    modalElement.classList.add('modal', 'd-none');\n    modalElement.setAttribute('role', 'dialog');\n\n    const modalDialogElement = document.createElement('div');\n    modalDialogElement.classList.add('modal-dialog', 'modal-md', 'modal-dialog-centered', 'alert');\n\n    const modalContentElement = document.createElement('div');\n    modalContentElement.classList.add('modal-content');\n    const modalHeaderElement = document.createElement('div');\n    modalHeaderElement.classList.add('modal-header');\n\n    const modalTitleElement = document.createElement('h5');\n    modalTitleElement.classList.add('modal-title');\n    modalTitleElement.textContent = title;\n\n    const closeButtonElement = document.createElement('button');\n    closeButtonElement.classList.add('btn-close');\n    closeButtonElement.innerHTML = '<i class=\"fa-solid fa-x\"></i>';\n\n    modalHeaderElement.appendChild(modalTitleElement);\n    modalHeaderElement.appendChild(closeButtonElement);\n    const modalBodyElement = document.createElement('div');\n    modalBodyElement.classList.add('modal-body');\n    const rowElement = document.createElement('div');\n    rowElement.classList.add('row');\n    const columnElement = document.createElement('div');\n    columnElement.classList.add('col-12');\n    columnElement.textContent = msg;\n    rowElement.appendChild(columnElement);\n    modalBodyElement.appendChild(rowElement);\n    const modalFooterElement = document.createElement('div');\n    modalFooterElement.classList.add('modal-footer');\n    const cancelButtonElement = document.createElement('button');\n    cancelButtonElement.classList.add('btn', 'btn-light', 'btn-annuler', 'btn-rounded');\n    cancelButtonElement.textContent = 'Cancel';\n    const saveButtonElement = document.createElement('button');\n    saveButtonElement.classList.add('btn', 'btn-success', 'btn-sauvegarder', 'btn-rounded', 'mx-2');\n    saveButtonElement.textContent = 'OK';\n    modalFooterElement.appendChild(cancelButtonElement);\n    modalFooterElement.appendChild(saveButtonElement);\n    modalContentElement.appendChild(modalHeaderElement);\n    modalContentElement.appendChild(modalBodyElement);\n    modalContentElement.appendChild(modalFooterElement);\n    modalDialogElement.appendChild(modalContentElement);\n    modalElement.appendChild(modalDialogElement);\n    saveButtonElement.addEventListener('click', () => {\n      ok();\n      ittone.hide(modalElement);\n      modalElement.remove();\n    });\n    cancelButtonElement.addEventListener('click', () => {\n      cancel();\n      ittone.hide(modalElement);\n      modalElement.remove();\n    });\n    document.body.appendChild(modalElement);\n    ittone.show(modalElement);\n  }\n  export function hide(element: HTMLElement): void {\n    element.classList.add('scale-out-center');\n    element.classList.add('d-none');\n\n    setTimeout(() => {\n      element.classList.remove('scale-out-center');\n    }, 1000);\n  }\n  export function show(element: HTMLElement): void {\n    element.classList.add('scale-in-center');\n\n    setTimeout(() => {\n      element.classList.remove('d-none');\n    }, 100);\n  }\n}"]},"metadata":{},"sourceType":"module"}